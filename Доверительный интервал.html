<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Доверительный интервал</title>
    <style type="text/css">
        body {
            font-family: verdana, arial, sans-serif;
        }
        b {
            font-size: 125%;
            color: blue;
        }
        i {
            font-size: 110%;
            color: green;
        }
    </style>
</head>
<body>

<div><p>
    этом видео мы познакомимся с доверительным интервалом и тем, как его можно строить.
    Зачем нужен доверительный интервал? Доверительный интервал — это показатель точности
    измерений. Его применяют как для оценки среднего, так и для оценки дисперсии. Он также
    отражает, насколько величина, подсчитанная по выборке, отражает истинное значение по
    некоторой генеральной совокупности. Мы рассмотрим, как можно построить доверительный
    интервал для среднего, для нормального распределения. Также посмотрим, что делать, если
    неизвестна дисперсия. И самое главное — что делать, если дана выборка, но непонятно из
    какого распределения. Давайте перейдем к определению доверительного интервала. Вообще
    говоря, доверительный интервал определяется через вероятность того, что оцениваемый
    параметр (это может быть среднее или дисперсия) не выходит за границы. Эта вероятность —
    некоторый уровень доверия. То есть это вероятность того, что доверительный интервал
    содержит точные значения. Обычно берут уровень доверия, равный 0,95 либо 0,99 либо 0,90.
    Нам необходимо в этой формуле найти левые и правые границы. Давайте перейдем к нормальному
    распределению в случае известной дисперсии. В этом случае формула доверительного интервала
    выглядит следующим образом. Нам необходимо найти границы, в которых находится среднее
    значение, в данном случае x с чертой — это выборочное среднее, σ — это известная дисперсия
    по генеральной совокупности, то есть по всему распределению, n — это размер выборки. И здесь
    непонятным остается параметр z. Сейчас мы его разберем. Давайте взглянем на график
    нормального распределения. Как мы помним, существует правило двух и трех сигм, что 95 %
    значений содержатся в пределах ±2σ, и 99 % значений содержатся в интервале ±3σ. И давайте
    посмотрим, чему же соответствуют эти интервалы. Мы можем также найти функцию распределения,
    которая по сути накапливает значения. То есть если нам необходимо выбрать уровень доверия,
    равный 0,95, то соответствующее значение функции распределения будет близко к 97 %. Далее
    мы вычисляем некоторый z score, основываясь на функции распределения. И уже эти значения
    будут задавать границы интервалам. Давайте теперь посмотрим, как мы это сможем вычислить,
    используя библиотеку SciPy. Итак, мы зафиксировали некоторое исходное распределение с
    некоторыми параметрами среднего и σ. Далее мы сделаем сэмпл из этого распределения. Для
    этого можно воспользоваться методом на np.random.choice, где мы передаем исходное
    распределение и указываем, какой размер выборки мы хотим получить. Давайте дальше найдем
    выборочное среднее и дисперсию по генеральной совокупности. И затем мы можем подсчитать
    соответствующее <b>z-value</b>. Заметим, что нормальное распределение симметрично, и поэтому
    нам достаточно найти z-value с одного конца, потому что в силу симметричности левая граница
    будет равна правой, но с противоположным знаком. Здесь мы используем функцию, которая
    называется probability percentile function. Это функция, обратная функции распределения.
    Здесь мы просто задаем процент и вычисляем сразу же z-value. Теперь мы разобрали каждый
    параметр по отдельности. Давайте соберем все вместе и найдем доверительный интервал.
    В данном случае мы получили доверительный интервал от 1,2 до 3,2. Давайте теперь все
    полученные нами выше вычисления соберем в одну функцию и попробуем применить подсчет
    доверительного интервала для другой выборки. Например, мы возьмем выборку большего размера,
    чем исходная. Мы заметим, что в этом случае доверительный интервал стал уже. То есть чем
    больше выборка, тем точнее мы можем оценить параметры распределения. Мы рассмотрели случаи
    с известной дисперсией. А теперь представим, что у нас дана очень маленькая выборка и мы не
    можем оценить по ней дисперсию. И тут на помощь нам приходит распределение Стьюдента.
    Давайте посмотрим, как в этом случае будет выглядеть формула доверительного интервала.
    Как вы видите, она не поменяется, то есть нам также необходимо оценить среднее, а также мы
    используем выборочное среднее по нашей выборке, но заменяется z-value на t-статистику, и
    соответственно, среднеквадратичное отклонение уже берется по выборке. Давайте теперь
    посмотрим на статистику Стьюдента. Как вы помните из прошлого видео, одним из параметров
    распределения Стьюдента является степень свободы. То есть степень свободы — это размер
    выборки минус 1. Давайте тоже соберем некоторую функцию и подсчитаем в этом случае
    доверительный интервал. Для того чтобы нам вычислить распределение Стьюдента, нам необходимо
    использовать уже соответствующий класс t и из него вызвать метод, который мы вызывали в
    случае нормального распределения. И передать параметры, которые будут соответствовать
    нашему интервалу. Давайте теперь посмотрим, как в этом случае будет выглядеть доверительный
    интервал. Мы видим, что в этом случае доверительный интервал стал сильно больше, потому
    что дисперсия неизвестна. Поэтому имеет смысл его расширять. Мы рассмотрели, как можно
    вычислить доверительный интервал для нормального распределения. Но зачастую на практике
    нам дана некоторая выборка, и неизвестно, какого она происхождения. Как в этом случае
    можно оценить какие-то параметры по этой выборке и как понять, что действительно выборка
    репрезентативная и статистически значимая? В этом случае нам поможет ЦПТ. Давайте вспомним,
    что распределение средних — это есть нормальное распределение. А для нормального
    распределения мы уже знаем, как вычислять доверительный интервал. Давайте попробуем
    вычислить доверительный интервал на примере поездок такси в Мехико. Для начала нам
    необходимо сгенерировать распределение средних. Для этого нам необходимо задать размер
    выборки и сгенерировать таких выборок очень много. Как вы помните, одним из условий теоремы
    было то, что чем больше размер выборки, тем ближе распределение средних к нормальному
    распределению. Давайте для теста возьмем расстояние, которое проезжает такси в километрах,
    и построим для этого значения доверительный интервал. Давайте теперь посмотрим, как выглядит
    гистограмма для распределения средних. Мы видим, что оно уже более симметричное и можно
    понять, какой разброс значений у этого параметра. Далее, так как это уже нормальное
    распределение, то мы можем вычислить соответствующие персентили, как мы рассказывали в
    первом случае. И после этого мы получаем наш доверительный интервал. В этом видео мы
    рассмотрели, как можно вычислить доверительный интервал в случае нормального распределения
    с известной дисперсией; когда неизвестна дисперсия, мы используем распределение Стьюдента;
    и что делать, если дана выборка, но непонятного происхождения. В следующем видео мы
    продолжим работать с распределением Стьюдента и будем его использовать для проверки
    статистических гипотез.
</p></div>

</body>
</html>