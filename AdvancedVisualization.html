<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AdvancedVisualization</title>
    <style type="text/css">
        body {
            font-family: verdana, arial, sans-serif;
        }
        b {
            font-size: 125%;
            color: blue;
        }
        i {
            font-size: 110%;
            color: green;
        }
    </style>
</head>
<body>

<div><p>
    В предыдущем видео мы научились работать с библиотекой matplotlib. С ее помощью мы научились делать различные виды
    графиков, настраивать их и сохранять в файл. В этом видео мы познакомимся с библиотекой matplotlib еще глубже,
    поймем, из чего она состоит, и как мы можем изображать сразу несколько графиков на одном изображении. Начнем мы с
    того, что импортируем библиотеку matplotlib, скажем IPython Notebook, чтобы он рисовал все в ноутбуке, и спроецируем
    распределение <b>exponential</b>. Для того чтобы понять, из чего состоит библиотека matplotlib, начнем с самой
    базовой функции <b>plt.subplots</b>. Она возвращает нам <b>кортеж</b> из двух объектов <b>fig</b> и <b>axes</b>. И
    если мы ее вызываем, мы получаем пустой график с двумя осями x и y, и давайте разберемся, из чего он состоит. Он
    состоит из следующего. У нас есть <b>figure</b> — это вот все наше всё изображение. В нем может быть один или больше
    axes. <b>Axes</b> — <i>это холст</i>, по сути, на котором мы изображаем наши графики. И в одном axes можем строить
    сразу несколько графиков. У axes есть две оси, каждая из которых называется axes, это ось x и ось y. И мы можем
    каждому axes делать свой заголовок, свои подписи к осям, свои лимиты у осей и множество других вещей. Что можно
    делать с объектом axes? Мы берем его, axes и вызываем какой-то метод. Например, <b>plot</b>, так же, как мы делали
    прежде, только мы вызываем plot не самого модуля pyplot, а конкретного объекта axes, тем самым мы говорим, что мы
    хотим нарисовать не где-то, а вот конкретно на этом холсте. И говорим, что мы хотим нарисовать. Мы хотим нарисовать
    exponential (5, 20). Вот получаем знакомый нам график. Если мы хотим изменить какие-то свойства у этого холста, мы
    говорим <b>axes.set_title</b>. И говорим график. Теперь мы более явно понимаем, что мы не рисуем просто в некоем
    пространстве, а мы рисуем конкретно на этом холсте, и мы можем менять его свойства. У этого axes мы можем делать
    почти все то же самое, что мы делали до этого. Мы можем менять цвета, можем менять, сказать <b>set_xlim</b>,
    например. Или мы скажем, что мы хотим не всё смотреть, а только часть наших данных, и многое-многое другое. Пока нет
    особых плюсов, но плюсы появятся, когда сейчас решим рисовать не один график, или даже не один график на одном
    холсте, а несколько холстов, где каждый будет иметь свои координаты и свои настройки. Для того чтобы нарисовать
    несколько графиков, нам нужно указать, сколько мы хотим строк у наших графиков и сколько колонок. Для этого мы
    вызовем всё так же метод <b>subplots</b> и дадим два параметра. Первый — это <b>nrows</b>, <i>сколько строк мы
    хотим</i>, допустим, две, а второй — это <b>ncols</b>, например, 3. Мы получаем следующую картину. У нас есть шесть
    графиков, они расположены в две строки и в три колонки. Если вам кажется, что размер вашего изображения слишком
    маленький, вы можете делать <b>figsize</b> равный по x, допустим, 10, а по y = 5. Это указывается в дюймах. Вот мы
    получили шесть графиков. Давайте теперь начнем заполнять каждый из них. Как это сделать? Для этого нам нужно
    использовать объект axes, в данном случае это уже не один объект, какой-то холст, а это список списков холстов. И
    его структура соответствует тому, как выглядит ваше изображение. В данном случае это два списка по три элемента в
    каждом списке. Давайте изобразим на каждом холсте свой график и дадим ему свое название. Чтобы лучше разобраться в
    индексах, название будет содержать в себе название колонки и номер строки. Для этого мы будем идти по нашему списку
    списков axes и на каждой из осей что-то рисовать. Идем, сначала мы идем по строкам.
    <i>for row row_axes in enumerate (axes)</i>. Мы получили row axes, это список по колонкам. И теперь идем по
    колонкам, for column, ex in enumerate (row_axes). Отлично. Давайте теперь возьмем наш объект ax, это конкретный
    конкретный холст, на котором мы рисуем, и нарисуем на нем какое-то распределение. Сделаем plot, и сделаем
    exponential, в котором мы с вами увидели, что они разные, в зависимости от колонки будут разные параметры. Например,
    это column и размера 20. Возьмем, смотрим, что получится. Вот наше распределение, шесть графиков, каждой показывает
    свое распределение. Давайте дадим каждому из них свое название. Мы берем наш объект ax и говорим set_title, и этот
    title будет зависеть от номера колонки и от номера строки. Назовем это Холст, колонка и строка. И передадим туда
    наши два параметра — column + 1 и row + 1. Посмотрим, что получается. Во-первых, мы сразу видим, что у нас не
    помещается всё удобно, и чтобы это исправить, мы можем у метода объекта figure, который содержит все наши холсты,
    сказать ему, чтобы он их распределил таким образом, чтобы они все помещались. Для этого есть метод
    <b>tight_layout</b>. Он уменьшает размер каждого из холстов, чтобы все поместилось. Что мы видим? Что на самом
    верхнем левом углу у нас холст, который находится на первой колонке и на первой строке. Ниже у нас расположена
    первая колонка и вторая строка. Таким образом, мы можем идти по всем этим холстам и на каждом из них делать самые
    разные вещи. Мы можем рисовать на них разные графики, можем у каждого из них делать свой набор осей, можем делать
    свои подписи осей и свои заголовки. Это позволяет нам детально настраивать, как мы изображаем каждый из этих
    графиков. И в результате, когда мы все это нарисовали, если мы хотим что-то сохранить, мы все так же используем
    объект fig и говорим savefig, и указываем, куда его сохранить. Допустим, all_results.png. И у нас появится картинка
    с шестью графиками. Таким образом, мы научились объектно-ориентированному подходу в визуализации данных с помощью
    библиотеки matplotlib. Мы поняли, из чего она состоит. Из figure, из множества axes, где мы можем установить
    свойства каждого из них. Надеюсь, это пригодится вам для визуализации данных в Питоне.
</p></div>

</body>
</html>